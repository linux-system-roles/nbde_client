# SPDX-License-Identifier: MIT
---
# The provider for nbde_client role. Currently 'clevis' is supported.
nbde_client_provider: clevis

# nbde_client_bindings is a list, and its elements support the following keys:
#
# * device             - specifies the path of an encrypted device in the
#                        managed host. This device must be already configured
#                        as a LUKS device before using the role (REQUIRED).
# * pass               - specifies a valid passphrase for opening/unlocking
#                        the specified device.
# * keyfile            - specifies either the absolute or relative path, in
#                        the control node, of a keyfile valid for
#                        opening/unlocking the specified device.
#  * state             - specifies whether a binding with the configuration
#                        described should be added or removed. Setting state
#                        to present (the default) means a binding will be
#                        added; setting state to absent means a binding will
#                        be removed from the device/slot.
#
# * slot               - specifies the slot to use for the binding. Default
#                        is 1.
# * servers            - specifies a list of servers to bind to. To enable
#                        high availability, specify more than one server here.
# * threshold          - specifies the threshold for the Shamir Secret Sharing
#                        (SSS) scheme that is put in place when using more
#                        than one server. When using multiple servers,
#                        threshold indicates how many of those servers should
#                        succeed, in terms of decryption, in order to complete
#                        the process of recovering the LUKS passphrase to open
#                        the device.
# * discard_passphrase - specifies whether we should discard the passphrase
#                        provided -- via either pass or keyfile, in devices
#                        -- after completing the binding operation.

# Example:
# nbde_client_bindings:
#    - device: /dev/sda1
#      keyfile: /vault/keyfile
#      state: present
#      slot: 2
#      threshold: 1
#      discard_passphrase: no
#      servers:
#        - http://server1.example.com
#        - http://server2.example.com
nbde_client_bindings: []

# vim:set ts=2 sw=2 et:
